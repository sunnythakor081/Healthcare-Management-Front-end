<app-header></app-header>

<div class="min-h-screen bg-gradient-to-br from-cyan-50 via-teal-50 to-blue-50 py-8 px-4 sm:px-6 lg:px-8">
  <div class="max-w-4xl mx-auto">
    <!-- Tab Navigation -->
    <div class="flex justify-center gap-4 mb-8">
      <button
        (click)="selectTab('patient')"
        [ngClass]="activeTab === 'patient' ? 'bg-teal-600 text-white' : 'bg-white text-teal-600 border-2 border-teal-300'"
        class="px-8 py-3 rounded-lg font-semibold transition-all duration-300"
      >
        <i class="fas fa-user-check mr-2"></i> Patient Registration
      </button>
      <button
        (click)="selectTab('doctor')"
        [ngClass]="activeTab === 'doctor' ? 'bg-teal-600 text-white' : 'bg-white text-teal-600 border-2 border-teal-300'"
        class="px-8 py-3 rounded-lg font-semibold transition-all duration-300"
      >
        <i class="fas fa-stethoscope mr-2"></i> Doctor Registration
      </button>
    </div>

    <!-- Success / Error Alert -->
    <div *ngIf="msg && msgType === 'success'" class="success-msg p-5 border-l-4 rounded-xl shadow-md mb-8 max-w-2xl mx-auto">
      <div class="flex items-center">
        <i class="fas fa-check-circle text-green-500 mr-3 text-xl"></i>
        <p class="text-green-700 font-bold">{{ msg }}</p>
      </div>
    </div>
    <div *ngIf="msg && msgType === 'error'" class="error-msg p-5 border-l-4 rounded-xl shadow-md mb-8 max-w-2xl mx-auto">
      <div class="flex items-center">
        <i class="fas fa-exclamation-triangle text-red-500 mr-3 text-xl"></i>
        <p class="text-red-700 font-bold">{{ msg }}</p>
      </div>
    </div>

    <!-- PATIENT REGISTRATION FORM -->
    <div *ngIf="activeTab === 'patient'" class="animate-slide-in">
      <!-- Hero Section -->
      <div class="text-center mb-12 animate-fade-in">
        <h1 class="text-4xl md:text-5xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-4">
          <i class="fas fa-user-injured mr-3"></i>Patient Registration
        </h1>
        <p class="text-xl text-gray-600 max-w-2xl mx-auto">
          Join our healthcare network and book appointments with verified doctors.
        </p>
      </div>

      <!-- Patient Form Card -->
      <div class="glass-card rounded-3xl overflow-hidden shadow-2xl">
        <form #userform="ngForm" (ngSubmit)="registerUser()" class="p-8 lg:p-12 space-y-8">
          <!-- Row 1: Username and Email -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Username -->
            <div class="space-y-2">
              <label class="block text-sm font-bold text-gray-700 flex items-center">
                <i class="fas fa-user text-teal-600 mr-2"></i>Username <span class="text-red-500">*</span>
              </label>
              <input
                type="text"
                class="form-input-enhanced w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-teal-500"
                placeholder="Enter your username"
                name="username"
                [(ngModel)]="user.username"
                required
                #username="ngModel"
                [class.border-red-500]="username.invalid && username.touched"
              />
              <small 
                *ngIf="username.invalid && username.touched"
                class="block text-red-500 text-xs font-bold flex items-center"
              >
                <i class="fas fa-times-circle mr-1"></i>Username is required
              </small>
            </div>

            <!-- Email -->
            <div class="space-y-2">
              <label class="block text-sm font-bold text-gray-700 flex items-center">
                <i class="fas fa-envelope text-teal-600 mr-2"></i>Email Address <span class="text-red-500">*</span>
              </label>
              <input
                type="email"
                class="form-input-enhanced w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-teal-500"
                placeholder="Enter your email"
                name="useremail"
                [(ngModel)]="user.email"
                required
                email
                #useremail="ngModel"
                [class.border-red-500]="useremail.invalid && useremail.touched"
              />
              <small 
                *ngIf="useremail.invalid && useremail.touched"
                class="block text-red-500 text-xs font-bold flex items-center"
              >
                <i class="fas fa-times-circle mr-1"></i>Valid email required
              </small>
            </div>
          </div>

          <!-- Row 2: Mobile and Gender -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Mobile -->
            <div class="space-y-2">
              <label class="block text-sm font-bold text-gray-700 flex items-center">
                <i class="fas fa-mobile-alt text-teal-600 mr-2"></i>Mobile Number <span class="text-red-500">*</span>
              </label>
              <input
                type="tel"
                maxlength="10"
                class="form-input-enhanced w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-teal-500"
                placeholder="Enter 10-digit mobile number"
                name="usermobile"
                [(ngModel)]="user.mobile"
                required
                pattern="[0-9]{10}"
                #usermobile="ngModel"
                [class.border-red-500]="usermobile.invalid && usermobile.touched"
              />
              <small 
                *ngIf="usermobile.invalid && usermobile.touched"
                class="block text-red-500 text-xs font-bold flex items-center"
              >
                <i class="fas fa-times-circle mr-1"></i>Required 10-digit number
              </small>
              <small class="block text-gray-500 text-xs italic flex items-center">
                <i class="fas fa-info-circle mr-1 text-teal-500"></i>Enter valid 10-digit mobile
              </small>
            </div>

            <!-- Gender -->
            <div class="space-y-2">
              <label class="block text-sm font-bold text-gray-700 flex items-center">
                <i class="fas fa-venus-mars text-teal-600 mr-2"></i>Gender <span class="text-red-500">*</span>
              </label>
              <select
                class="form-input-enhanced w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-teal-500 appearance-none bg-white"
                name="usergender"
                [(ngModel)]="user.gender"
                required
                #usergender="ngModel"
              >
                <option value="" disabled>Select Gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Others">Others</option>
              </select>
              <small 
                *ngIf="usergender.invalid && usergender.touched"
                class="block text-red-500 text-xs font-bold flex items-center"
              >
                <i class="fas fa-times-circle mr-1"></i>Gender selection required
              </small>
            </div>
          </div>

          <!-- Password -->
          <div class="space-y-2">
            <label class="block text-sm font-bold text-gray-700 flex items-center">
              <i class="fas fa-lock text-teal-600 mr-2"></i>Password <span class="text-red-500">*</span>
            </label>
            <input
              type="password"
              class="form-input-enhanced w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-teal-500"
              placeholder="Enter a secure password"
              name="userpassword"
              [(ngModel)]="user.password"
              required
              minlength="6"
              #userpassword="ngModel"
              [class.border-red-500]="userpassword.invalid && userpassword.touched"
            />
            <small 
              *ngIf="userpassword.invalid && userpassword.touched"
              class="block text-red-500 text-xs font-bold flex items-center"
            >
              <i class="fas fa-times-circle mr-1"></i>Password must be at least 6 characters
            </small>
          </div>

          <!-- Terms Checkbox -->
          <div class="bg-gradient-to-r from-teal-50 to-cyan-50 p-6 rounded-2xl border-2 border-teal-200/50">
            <div class="flex items-start gap-3">
              <input
                type="checkbox"
                name="userterms"
                [(ngModel)]="user.termsAccepted"
                required
                class="checkbox-enhanced mt-1 w-5 h-5"
              />
              <label class="text-sm text-gray-700 cursor-pointer leading-relaxed flex-1">
                I agree to the terms and conditions <span class="text-red-500">*</span>
              </label>
            </div>
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            [disabled]="userform.invalid"
            class="w-full btn-gradient text-white font-bold py-5 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl disabled:shadow-none disabled:transform-none flex-center space-x-2"
          >
            <i class="fas fa-user-plus"></i>
            <span>Create Patient Account</span>
            <i class="fas fa-arrow-right"></i>
          </button>
        </form>
      </div>
    </div>

    <!-- DOCTOR REGISTRATION FORM (Using adding doctor design) -->
    <div *ngIf="activeTab === 'doctor'" class="animate-slide-in">
      <!-- Hero Section -->
      <div class="text-center mb-12 animate-fade-in">
        <h1 class="text-4xl md:text-5xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-4">
          <i class="fas fa-user-md mr-3"></i>Doctor Registration
        </h1>
        <p class="text-xl text-gray-600 max-w-2xl mx-auto">
          Register as a healthcare professional. Join our verified network of doctors.
        </p>
      </div>

      <!-- Main Form Card -->
      <div class="glass-card rounded-3xl overflow-hidden shadow-2xl">
        <form #doctorForm="ngForm" (ngSubmit)="registerDoctor()" class="p-8 lg:p-12 space-y-8">
          <!-- Row 1: Name and Email -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Doctor Name -->
            <div class="space-y-2">
              <label class="block text-sm font-bold text-gray-700 flex items-center">
                <i class="fas fa-user-md text-teal-600 mr-2"></i>Doctor Name <span class="text-red-500">*</span>
              </label>
              <input
                type="text"
                class="form-input-enhanced w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-teal-500"
                placeholder="Enter doctor full name with initials"
                name="doctorname"
                [(ngModel)]="doctor.doctorname"
                required
                #doctorname="ngModel"
                [class.border-red-500]="doctorname.invalid && doctorname.touched"
              />
              <small 
                *ngIf="doctorname.invalid && doctorname.touched"
                class="block text-red-500 text-xs font-bold flex items-center"
              >
                <i class="fas fa-times-circle mr-1"></i>Required field
              </small>
              <small class="block text-gray-500 text-xs italic flex items-center">
                <i class="fas fa-info-circle mr-1 text-teal-500"></i>Enter full name with initials
              </small>
            </div>

            <!-- Email -->
            <div class="space-y-2">
              <label class="block text-sm font-bold text-gray-700 flex items-center">
                <i class="fas fa-envelope text-teal-600 mr-2"></i>Email Address <span class="text-red-500">*</span>
              </label>
              <input
                type="email"
                class="form-input-enhanced w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-teal-500"
                placeholder="doctor@hospital.com"
                name="doctoremail"
                [(ngModel)]="doctor.email"
                required
                pattern="^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$"
                #doctoremail="ngModel"
                [class.border-red-500]="doctoremail.invalid && doctoremail.touched"
              />
              <div *ngIf="doctoremail.errors && doctoremail.invalid && doctoremail.touched">
                <small *ngIf="doctoremail.errors['required']" class="block text-red-500 text-xs font-bold flex items-center">
                  <i class="fas fa-times-circle mr-1"></i>Required field
                </small>
                <small *ngIf="doctoremail.errors['pattern']" class="block text-red-500 text-xs font-bold flex items-center">
                  <i class="fas fa-times-circle mr-1"></i>Invalid email format
                </small>
              </div>
            </div>
          </div>

          <!-- Row 2: Mobile and Gender -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Mobile -->
            <div class="space-y-2">
              <label class="block text-sm font-bold text-gray-700 flex items-center">
                <i class="fas fa-mobile-alt text-teal-600 mr-2"></i>Mobile Number <span class="text-red-500">*</span>
              </label>
              <input
                type="tel"
                maxlength="10"
                class="form-input-enhanced w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-teal-500"
                placeholder="Enter 10-digit mobile number"
                name="doctormobile"
                [(ngModel)]="doctor.mobile"
                required
                pattern="[0-9]{10}"
                #doctormobile="ngModel"
                [class.border-red-500]="doctormobile.invalid && doctormobile.touched"
              />
              <small 
                *ngIf="doctormobile.invalid && doctormobile.touched"
                class="block text-red-500 text-xs font-bold flex items-center"
              >
                <i class="fas fa-times-circle mr-1"></i>Required 10-digit number
              </small>
              <small class="block text-gray-500 text-xs italic flex items-center">
                <i class="fas fa-info-circle mr-1 text-teal-500"></i>Enter valid 10-digit mobile
              </small>
            </div>

            <!-- Gender -->
            <div class="space-y-2">
              <label class="block text-sm font-bold text-gray-700 flex items-center">
                <i class="fas fa-venus-mars text-teal-600 mr-2"></i>Gender <span class="text-red-500">*</span>
              </label>
              <select
                class="form-input-enhanced w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-teal-500 appearance-none bg-white"
                name="doctorgender"
                [(ngModel)]="doctor.gender"
                required
                #doctorgender="ngModel"
              >
                <option value="" disabled>Select Gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Others">Others</option>
              </select>
              <small 
                *ngIf="doctorgender.invalid && doctorgender.touched"
                class="block text-red-500 text-xs font-bold flex items-center"
              >
                <i class="fas fa-times-circle mr-1"></i>Gender selection required
              </small>
            </div>
          </div>

          <!-- Row 3: Experience and Specialization -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Experience -->
            <div class="space-y-2">
              <label class="block text-sm font-bold text-gray-700 flex items-center">
                <i class="fas fa-briefcase-medical text-teal-600 mr-2"></i>Experience (Years) <span class="text-red-500">*</span>
              </label>
              <input
                type="number"
                min="3"
                class="form-input-enhanced w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-teal-500"
                placeholder="Minimum 3 years"
                name="experience"
                [(ngModel)]="doctor.experience"
                required
                #experience="ngModel"
                [class.border-red-500]="experience.invalid && experience.touched"
              />
              <small 
                *ngIf="experience.invalid && experience.touched"
                class="block text-red-500 text-xs font-bold flex items-center"
              >
                <i class="fas fa-times-circle mr-1"></i>Required field (min 3 years)
              </small>
              <small class="block text-amber-700 text-xs font-bold flex items-center">
                <i class="fas fa-exclamation-triangle mr-1"></i>Minimum 3 years experience required
              </small>
            </div>

            <!-- Specialization -->
            <div class="space-y-2">
              <label class="block text-sm font-bold text-gray-700 flex items-center">
                <i class="fas fa-stethoscope text-teal-600 mr-2"></i>Specialization <span class="text-red-500">*</span>
              </label>
              <select
                class="form-input-enhanced w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-teal-500 appearance-none bg-white"
                name="specialization"
                [(ngModel)]="doctor.specialization"
                required
                #specialization="ngModel"
                [class.border-red-500]="specialization.invalid && specialization.touched"
              >
                <option value="" disabled>Select Specialization</option>
                <option value="General Physician">General Physician</option>
                <option value="Cardiologist (Heart Specialist)">Cardiologist (Heart Specialist)</option>
                <option value="Neurologist (Brain & Nervous System)">Neurologist (Brain & Nervous System)</option>
                <option value="Orthopedic Surgeon (Bones & Joints)">Orthopedic Surgeon (Bones & Joints)</option>
                <option value="Pediatrician (Child Specialist)">Pediatrician (Child Specialist)</option>
                <option value="Dermatologist (Skin Specialist)">Dermatologist (Skin Specialist)</option>
                <option value="Gynecologist / Obstetrician (Women's Health)">Gynecologist / Obstetrician (Women's Health)</option>
                <option value="ENT Specialist (Ear, Nose, Throat)">ENT Specialist (Ear, Nose, Throat)</option>
                <option value="Psychiatrist (Mental Health)">Psychiatrist (Mental Health)</option>
                <option value="Ophthalmologist (Eye Specialist)">Ophthalmologist (Eye Specialist)</option>
                <option value="Oncologist (Cancer Specialist)">Oncologist (Cancer Specialist)</option>
                <option value="Pulmonologist (Lungs & Respiratory)">Pulmonologist (Lungs & Respiratory)</option>
                <option value="Gastroenterologist (Digestive System)">Gastroenterologist (Digestive System)</option>
                <option value="Urologist (Urinary & Male Reproductive)">Urologist (Urinary & Male Reproductive)</option>
                <option value="Endocrinologist (Hormone Specialist)">Endocrinologist (Hormone Specialist)</option>
                <option value="Nephrologist (Kidney Specialist)">Nephrologist (Kidney Specialist)</option>
                <option value="Rheumatologist (Joint & Autoimmune Diseases)">Rheumatologist (Joint & Autoimmune Diseases)</option>
                <option value="Anesthesiologist (Surgery Support)">Anesthesiologist (Surgery Support)</option>
                <option value="Radiologist (Imaging & Scans)">Radiologist (Imaging & Scans)</option>
                <option value="Dentist">Dentist</option>
              </select>
              <small 
                *ngIf="specialization.invalid && specialization.touched"
                class="block text-red-500 text-xs font-bold flex items-center"
              >
                <i class="fas fa-times-circle mr-1"></i>Required field
              </small>
              <small class="block text-gray-500 text-xs italic flex items-center">
                <i class="fas fa-info-circle mr-1 text-teal-500"></i>Select from the dropdown
              </small>
            </div>
          </div>

          <!-- Row 4: Previous Hospital and Address -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Previous Hospital -->
            <div class="space-y-2">
              <label class="block text-sm font-bold text-gray-700 flex items-center">
                <i class="fas fa-hospital text-teal-600 mr-2"></i>Previous Hospital <span class="text-red-500">*</span>
              </label>
              <input
                type="text"
                class="form-input-enhanced w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-teal-500"
                placeholder="Enter previous working hospital"
                name="previoushospital"
                [(ngModel)]="doctor.previoushospital"
                required
                #previoushospital="ngModel"
                [class.border-red-500]="previoushospital.invalid && previoushospital.touched"
              />
              <small 
                *ngIf="previoushospital.invalid && previoushospital.touched"
                class="block text-red-500 text-xs font-bold flex items-center"
              >
                <i class="fas fa-times-circle mr-1"></i>Required field
              </small>
            </div>

            <!-- Address -->
            <div class="space-y-2">
              <label class="block text-sm font-bold text-gray-700 flex items-center">
                <i class="fas fa-map-marker-alt text-teal-600 mr-2"></i>Clinic Address <span class="text-red-500">*</span>
              </label>
              <input
                type="text"
                class="form-input-enhanced w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-teal-500"
                placeholder="Enter clinic address"
                name="address"
                [(ngModel)]="doctor.address"
                required
                #address="ngModel"
                [class.border-red-500]="address.invalid && address.touched"
              />
              <small 
                *ngIf="address.invalid && address.touched"
                class="block text-red-500 text-xs font-bold flex items-center"
              >
                <i class="fas fa-times-circle mr-1"></i>Required field
              </small>
              <small class="block text-gray-500 text-xs italic flex items-center">
                <i class="fas fa-info-circle mr-1 text-teal-500"></i>Mention proper address for reference
              </small>
            </div>
          </div>

          <!-- Password -->
          <div class="space-y-2">
            <label class="block text-sm font-bold text-gray-700 flex items-center">
              <i class="fas fa-lock text-teal-600 mr-2"></i>Temporary Password <span class="text-red-500">*</span>
            </label>
            <input
              type="password"
              class="form-input-enhanced w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-teal-500 pr-12"
              placeholder="Use '1234' as temporary password"
              name="doctorpassword"
              [(ngModel)]="doctor.password"
              required
              #doctorpassword="ngModel"
              [class.border-red-500]="doctorpassword.invalid && doctorpassword.touched"
            />
            <small 
              *ngIf="doctorpassword.invalid && doctorpassword.touched"
              class="block text-red-500 text-xs font-bold flex items-center"
            >
              <i class="fas fa-times-circle mr-1"></i>Required field
            </small>
            <small class="block text-gray-500 text-xs italic flex items-center">
              <i class="fas fa-info-circle mr-1 text-teal-500"></i>Use "1234" as temporary; instruct doctor to update later
            </small>
          </div>

          <!-- Authorization Checkbox -->
          <div class="bg-gradient-to-r from-teal-50 to-cyan-50 p-6 rounded-2xl border-2 border-teal-200/50 space-y-3">
            <div class="flex items-start gap-3">
              <input
                type="checkbox"
                name="doctorterms"
                [(ngModel)]="doctor.termsAccepted"
                required
                class="checkbox-enhanced mt-1 w-5 h-5 rounded border-2 border-gray-300 focus:ring-teal-500 focus:ring-2 cursor-pointer transition-all duration-300"
              />
              <label class="text-sm text-gray-700 cursor-pointer leading-relaxed flex-1">
                Confirm this is an authorized doctor <a href="#" class="label-link text-amber-600 font-bold"> (Proxy additions violate T&C)</a>
              </label>
            </div>
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            [disabled]="doctorForm.invalid"
            class="w-full btn-gradient text-white font-bold py-5 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl disabled:shadow-none disabled:transform-none flex-center space-x-2"
          >
            <i class="fas fa-user-plus"></i>
            <span>Register as Doctor</span>
            <i class="fas fa-arrow-right"></i>
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>